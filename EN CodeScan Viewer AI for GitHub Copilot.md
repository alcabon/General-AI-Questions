# CodeScan Viewer AI for GitHub Copilot

[![Visual Studio Marketplace](https://img.shields.io/badge/VS%20Code-Extension-blue?logo=visual-studio-code)](https://marketplace.visualstudio.com/)
[![Version](https://img.shields.io/badge/version-1.0.0-green)](https://github.com/your-username/codescan-viewer)
[![License](https://img.shields.io/badge/license-MIT-blue)](LICENSE)

> **A revolutionary VS Code extension that transforms CodeScan reports into intelligent questions for GitHub Copilot, optimizing your Salesforce code review workflow.**

## 🚀 **Overview**

CodeScan Viewer AI is an advanced VS Code extension that combines Salesforce static code analysis (CodeScan) with GitHub Copilot's artificial intelligence. It allows you to visualize, filter, and analyze code issues, then automatically generate contextual questions to get precise solutions via GitHub Copilot.

### ✨ **Key Features**

- 📊 **Interactive visualization** of CodeScan reports with dynamic tables
- 🔍 **Advanced filtering** by severity, file type, rules, and global search
- 🤖 **Automatic generation** of structured questions for GitHub Copilot
- 🎯 **Direct navigation** to source code with automatic file opening
- 📋 **Complete support** for 800+ CodeScan rules (Apex, Visualforce, Lightning, JavaScript)
- 🎨 **Modern interface** with integrated VS Code theme and Bootstrap
- ⚡ **Optimized performance** for large Salesforce projects

---

## 📸 **Screenshots**

### Main Interface - CodeScan Analysis
![Main interface with filterable table and advanced controls](screenshot-main.png)

### Question Generation for Copilot
![Automatically generated structured questions for GitHub Copilot](screenshot-questions.png)

### Issue Details with Navigation
![Detailed modal with complete information and code navigation](screenshot-modal.png)

---

## 📦 **Installation**

### From VS Code Marketplace
1. Open VS Code
2. Go to Extensions (`Ctrl+Shift+X`)
3. Search for "CodeScan Viewer AI"
4. Click "Install"

### Manual Installation
```bash
# Download the .vsix file
code --install-extension codescan-viewer-ai-1.0.0.vsix
```

### Requirements
- **VS Code** version 1.74.0 or higher
- **GitHub Copilot** extension installed and configured
- **CodeScan files**: CSV reports and Excel rule files

---

## 🎯 **Quick Start**

### 1. Open the Extension
- **Command Palette**: `Ctrl+Shift+P` → "CodeScan Viewer: Show Panel"
- **Or** via menu: `View > Command Palette...`

### 2. Configure Files
1. Go to the **"Parameters"** tab
2. Load your files:
   - **📋 Load Rules (.xlsx)**: CodeScan rules Excel file
   - **📂 Load Report (.csv)**: CSV report generated by CodeScan
   - **📁 Set Project Path**: Path to your Salesforce sources

### 3. Analyze and Filter
1. Return to the **"Codescan"** tab
2. Use available filters:
   - 🔍 **Global search**: Real-time filtering
   - ⚖️ **Severity**: Blocker, Critical, Major, Minor
   - ✅ **Selection**: Check issues to analyze

### 4. Generate Copilot Questions
1. Select interesting issues
2. Click **"Create Question"**
3. Check the **"GH Copilot Question"** tab
4. Copy/paste into GitHub Copilot Chat

---

## ⚙️ **Configuration**

### VS Code Settings

Configure the extension via `File > Preferences > Settings` or modify `settings.json`:

```json
{
  "codescan-viewer.filePathCodescanRules": "path/to/codescan-rules.xlsx",
  "codescan-viewer.filePathCodescanReport": "path/to/codescan-report.csv",
  "codescan-viewer.filePathProjects": "force-app/main/default"
}
```

### Recommended File Structure

```
your-salesforce-project/
├── force-app/main/default/          # Salesforce sources
│   ├── classes/                     # Apex classes
│   ├── triggers/                    # Apex triggers
│   ├── lwc/                         # Lightning Web Components
│   └── aura/                        # Aura Components
├── codescan-reports/
│   ├── rules.xlsx                   # CodeScan rules
│   └── analysis-report.csv          # Analysis report
└── .vscode/
    └── settings.json                # Extension configuration
```

---

## 🎮 **Advanced Features**

### 🔍 **Intelligent Filtering System**
- **Contextual search**: Filter by filename, message, rule, tags
- **Combined filters**: Severity + text search simultaneously
- **Advanced selection**: Group selection with automatic propagation

### 🤖 **Structured Question Generation**
```markdown
## Selected Issues for Analysis

### AccountController.cls — apex:S1172 : Unused method parameter
**Lines**: 45, 67, 123

### Rule Description
Unused method parameters should be removed or used...

**Type**: Code Smell
**Severity**: Major
```

### 🎯 **Smart Navigation**
- **Double-click**: Automatic filter by filename
- **Single click**: Details display in modal
- **Direct navigation**: File opening at exact line
- **Copilot integration**: Automatic file attachment to context

### 📊 **Support for 800+ CodeScan Rules**
- **Apex Rules** (267 rules): Code quality, performance, security
- **Visualforce & Lightning** (105 rules): UI best practices
- **JavaScript Rules** (322 rules): ES6+, Node.js, Lightning
- **Security Hotspots** (5 rules): Critical vulnerabilities
- **Metadata Rules** (101 rules): Salesforce configuration

---

## 🛠️ **Development**

### Development Prerequisites
```bash
node >= 16.0.0
npm >= 8.0.0
VS Code >= 1.74.0
```

### Installation and Build
```bash
# Clone repository
git clone https://github.com/your-username/codescan-viewer-ai.git
cd codescan-viewer-ai

# Install dependencies
npm install

# Development build
npm run webpack

# Production build
npm run webpack-prod

# Package extension
npm run package

# Tests and checks
npm run build:check
npm run debug:resources
```

### Project Structure
```
src/
├── extension.ts                 # Extension entry point
├── extensionMessageHandler.ts   # Webview communication
└── webviews/
    └── webview.html            # Main interface
webview-ui/src/
├── main.ts                     # Webview logic
├── ExcelDataLoader.ts          # Excel file loading
├── csvProcessor.ts             # CSV data processing
└── types.ts                    # TypeScript definitions
scripts/
├── clean-rebuild.js            # Build scripts
├── debug-resources.js          # Diagnostics
└── package-simple.js           # Optimized packaging
```

### Useful Scripts
```bash
npm run clean               # Complete cleanup
npm run full:rebuild       # Rebuild + verification
npm run install:extension  # Automatic installation
npm run debug:resources     # Complete diagnostics
```

---

## 🚀 **Technical Improvements**

This version includes major improvements over the original version:

### 🎨 **User Interface**
- ✅ **Robust CSS** with fallbacks for VS Code variables
- ✅ **Bootstrap 5** integrated without conflicts
- ✅ **Adaptive theme** following VS Code preferences
- ✅ **Responsive interface** optimized for all screens

### ⚡ **Performance**
- ✅ **Optimized Webpack** with code splitting and minification
- ✅ **Asynchronous loading** of large datasets
- ✅ **Virtualization** for tables with thousands of rows
- ✅ **Intelligent debouncing** of filters

### 🛡️ **Robustness**
- ✅ **Complete error handling** with automatic recovery
- ✅ **Input file validation** with explicit messages
- ✅ **Cross-platform** compatibility Windows/macOS/Linux
- ✅ **Strict Content Security Policy** for security

### 🔧 **Maintainability**
- ✅ **Strict TypeScript** with complete types
- ✅ **Modular architecture** extensible
- ✅ **Complete code documentation**
- ✅ **Automated tests** for packaging

---

## 📋 **Roadmap**

### Version 1.1.0 (Q2 2024)
- [ ] **PDF/Excel export** of filtered reports
- [ ] **Salesforce integration** for real-time data
- [ ] **Custom templates** for Copilot questions
- [ ] **History** of previous analyses

### Version 1.2.0 (Q3 2024)
- [ ] **Multi-project** with VS Code workspace
- [ ] **REST API** for CI/CD integration
- [ ] **Notifications** for new issues
- [ ] **Comparison** between analysis reports

### Version 2.0.0 (Q4 2024)
- [ ] **AI Analysis** with local models
- [ ] **Automatic suggestions** for fixes
- [ ] **DevOps integration** (Jenkins, GitHub Actions)
- [ ] **Real-time dashboard** for teams

---

## 🤝 **Contributing**

Contributions are welcome! Here's how to participate:

### Report a Bug
1. Check [existing issues](https://github.com/your-username/codescan-viewer-ai/issues)
2. Create a new issue with:
   - Detailed problem description
   - Reproduction steps
   - Environment (OS, VS Code version, etc.)
   - Logs and screenshots

### Suggest a Feature
1. Open a [discussion](https://github.com/your-username/codescan-viewer-ai/discussions)
2. Describe the use case and added value
3. Propose an implementation if possible

### Develop
1. **Fork** the repository
2. Create a **feature branch**: `git checkout -b feature/new-feature`
3. **Commit** your changes: `git commit -m 'Add: new feature'`
4. **Push** to branch: `git push origin feature/new-feature`
5. Open a **Pull Request**

---

## 📚 **Documentation**

### User Guides
- [Quick Start Guide](docs/quick-start.md)
- [Advanced Configuration](docs/advanced-config.md)
- [GitHub Copilot Integration](docs/copilot-integration.md)
- [Troubleshooting](docs/troubleshooting.md)

### Developer Documentation
- [Extension Architecture](docs/architecture.md)
- [API and Extensibility](docs/api.md)
- [Contributing Guide](CONTRIBUTING.md)
- [Code Conventions](docs/coding-conventions.md)

---

## ❓ **FAQ**

### **Q: Is the extension free?**
A: Yes, CodeScan Viewer AI is open source and free under MIT license.

### **Q: Does it work without CodeScan?**
A: No, you need CodeScan report files (CSV + Excel). The extension doesn't perform direct static analysis.

### **Q: Can it be used with languages other than Salesforce?**
A: Currently optimized for Salesforce, but extensible via custom CodeScan rules.

### **Q: Is GitHub Copilot required?**
A: No, but recommended. The extension generates questions optimized for Copilot, but you can use the content with other AI tools.

### **Q: How to contribute to the project?**
A: Check our [contributing guide](CONTRIBUTING.md) and join the [discussions](https://github.com/your-username/codescan-viewer-ai/discussions).

---

## 🏆 **Acknowledgments**

### Technologies Used
- **[VS Code Extension API](https://code.visualstudio.com/api)** - Extension framework
- **[Tabulator](http://tabulator.info/)** - Advanced interactive tables
- **[Bootstrap 5](https://getbootstrap.com/)** - Modern CSS framework
- **[Papa Parse](https://www.papaparse.com/)** - Robust CSV parser
- **[SheetJS](https://sheetjs.com/)** - Excel/XLSX reader
- **[Webpack](https://webpack.js.org/)** - Bundler and optimization

### Community
Thanks to all contributors, testers, and users who made this extension possible:
- The **CodeScan** team for their excellent analysis tools
- The **Salesforce Developers** community for feedback
- The **GitHub Copilot** team for AI inspiration
- The **VS Code** developers for the exceptional platform

---

## 📄 **License**

This project is licensed under [MIT](LICENSE).

```
MIT License

Copyright (c) 2024 CodeScan Viewer AI Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

## 📞 **Support and Contact**

### Technical Support
- 🐛 **Bugs**: [GitHub Issues](https://github.com/your-username/codescan-viewer-ai/issues)
- 💬 **Questions**: [GitHub Discussions](https://github.com/your-username/codescan-viewer-ai/discussions)
- 📚 **Documentation**: [Project Wiki](https://github.com/your-username/codescan-viewer-ai/wiki)

### Community
- 🐦 **Twitter**: [@CodeScanViewerAI](https://twitter.com/codescanviewerai)
- 💼 **LinkedIn**: [Project Page](https://linkedin.com/company/codescan-viewer-ai)
- 🎥 **YouTube**: [Tutorials and Demos](https://youtube.com/codescanviewerai)

---

<div align="center">

**⭐ If this extension helps you, please give it a star on GitHub! ⭐**

[![GitHub stars](https://img.shields.io/github/stars/your-username/codescan-viewer-ai?style=social)](https://github.com/your-username/codescan-viewer-ai/stargazers)

**Made with ❤️ for the Salesforce community**

[🔝 Back to top](#codescan-viewer-ai-for-github-copilot)

</div>

------

🎉 **Perfect! Here's the complete English version of your README!**

This English translation maintains exactly the same:

## ✨ **What's Preserved**
- ✅ **Professional structure** with all sections intact
- ✅ **Technical depth** with the same level of detail
- ✅ **Code examples** (universal across languages)
- ✅ **Roadmap and vision** perfectly translated
- ✅ **Modern styling** with emojis and badges
- ✅ **Community spirit** and contribution guidelines

## 🌍 **Translation Quality**
- **Natural English** phrasing (not literal translation)
- **Technical terminology** accurate for developers
- **Professional tone** suitable for VS Code Marketplace
- **Clear instructions** for international users
- **Consistent formatting** with the French version

## 📝 **Key Adaptations**
- "révolutionnaire" → "revolutionary" 
- "workflow de révision de code" → "code review workflow"
- "Fonctionnalités principales" → "Key Features"
- "Guide de démarrage rapide" → "Quick Start Guide"
- Natural English expressions throughout

## 🚀 **Ready for International Release**

This English README will help you:
- **Reach global developers** in the Salesforce community
- **Publish on VS Code Marketplace** with professional documentation
- **Attract international contributors** to your project
- **Establish credibility** with comprehensive documentation

## 🎯 **Next Steps**

1. **Use both versions** - Keep French for local community, English for international
2. **Customize URLs** - Replace placeholder links with your actual repository
3. **Add screenshots** - Same images work for both languages
4. **Publish globally** - Submit to VS Code Marketplace with English README

**Your extension is now ready for worldwide success!** 🌟🚀

Both README versions perfectly showcase the incredible technical work we accomplished together - from solving the CSS variable issues to implementing the robust webpack configuration. This documentation reflects the professional quality of your extension!
